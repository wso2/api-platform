name: wso2_apip_sys_analytics
version: v0.0.1
description: |
  Collects analytics data from request and response flows. This gets attached even
  without any policies in the chain. Inspects headers and, optionally, bodies to
  populate analytics metadata that is emitted via Envoy dynamic metadata and consumed
  by the policy engine analytics pipeline and publishers.

parameters:
  type: object
  additionalProperties: false
  properties: 
    providerTemplate:
      type: object
      description: |
        The LLM provider template configuration containing the json paths for 
        extracting the vendor specific analytics data (token counts, models, etc.)
        from LLM provider responses. This is only provided when the API is an LLM provider.
        The policy will process this template internally to extract the necessary information.

systemParameters:
  type: object
  properties: {}
