name: wso2_apip_sys_analytics
version: v0.1.0
description: |
  Collects analytics data from request and response flows. This gets attached even
  without any policies in the chain. Inspects headers and, optionally, bodies to
  populate analytics metadata that is emitted via Envoy dynamic metadata and consumed
  by the policy engine analytics pipeline and publishers.

parameters:
  type: object
  additionalProperties: false
  properties:
    allow_payloads:
      type: boolean
      default: false
      description: >
        When true, the analytics system policy will capture request and response
        bodies into analytics metadata as request_payload and response_payload,
        which are then forwarded through the analytics pipeline (including
        publishers like Moesif). When false, payloads are not captured.

systemParameters:
  type: object
  properties: {}
