name: remove-query-parameter
version: v0.1.0
description: |
  Removes multiple query parameters from the request URL before forwarding to the upstream service.
  This policy modifies the request path by removing query parameters with
  the specified names. It properly handles existing query parameters and
  URL encoding to ensure the request remains valid.

parameters:
  type: object
  additionalProperties: false
  properties:
    queryParameters:
      type: array
      description: |
        An array of query parameter names to remove from the request URL.
        Each item in the array specifies the name of a query parameter to be removed.
      items:
        type: object
        properties:
          name:
            type: string
            description: |
              The name of the query parameter to be removed from the request URL.
              If a query parameter with this name exists in the request URL, it will be removed.
              Otherwise the request URL will remain unchanged.
            validation:
              minLength: 1
              maxLength: 128

        required:
          - name

  required:
    - queryParameters

systemParameters:
  type: object
  properties: { }
