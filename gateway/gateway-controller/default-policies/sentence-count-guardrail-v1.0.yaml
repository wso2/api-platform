name: SentenceCountGuardrail
version: v1.0.0
description: |
  Validates the sentence count of request or response body content.
  Supports JSONPath extraction to validate specific fields within JSON payloads.
  Can be configured with min/max sentence count constraints and inverted logic.
  Supports separate configuration for request and response phases.

parameters:
  - name: request
    type: object
    required: false
    description: Configuration for request phase validation
    properties:
      - name: min
        type: integer
        required: true
        description: Minimum allowed sentence count (inclusive)
        validation:
          minimum: 0

      - name: max
        type: integer
        required: true
        description: Maximum allowed sentence count (inclusive)
        validation:
          minimum: 1

      - name: jsonPath
        type: string
        required: false
        default: ""
        description: |
          JSONPath expression to extract a specific value from JSON payload.
          If empty, validates the entire payload as a string.
          Examples: "$.message", "$.data.content", "$.items[0].text"

      - name: invert
        type: boolean
        required: false
        default: false
        description: |
          If true, validation passes when sentence count is NOT within the min-max range (inverted logic).
          If false (default), validation passes when sentence count is within the min-max range.

      - name: showAssessment
        type: boolean
        required: false
        default: false
        description: |
          If true, includes detailed assessment information in error responses.
          If false, returns minimal error information.

  - name: response
    type: object
    required: false
    description: Configuration for response phase validation
    properties:
      - name: min
        type: integer
        required: true
        description: Minimum allowed sentence count (inclusive)
        validation:
          minimum: 0

      - name: max
        type: integer
        required: true
        description: Maximum allowed sentence count (inclusive)
        validation:
          minimum: 1

      - name: jsonPath
        type: string
        required: false
        default: ""
        description: |
          JSONPath expression to extract a specific value from JSON payload.
          If empty, validates the entire payload as a string.
          Examples: "$.message", "$.data.content", "$.items[0].text"

      - name: invert
        type: boolean
        required: false
        default: false
        description: |
          If true, validation passes when sentence count is NOT within the min-max range (inverted logic).
          If false (default), validation passes when sentence count is within the min-max range.

      - name: showAssessment
        type: boolean
        required: false
        default: false
        description: |
          If true, includes detailed assessment information in error responses.
          If false, returns minimal error information.

