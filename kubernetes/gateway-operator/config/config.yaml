# Gateway Operator Configuration
# This file configures the gateway-operator behavior, including gateway deployment settings,
# reconciliation behavior, and logging.
#
# Configuration priority (highest to lowest):
# 1. Environment variables (e.g., GATEWAY_NAMESPACE)
# 2. This YAML file
# 3. Default values

# Gateway deployment configuration
gateway:
  # Namespace where gateway resources will be deployed
  # Can be overridden with GATEWAY_NAMESPACE environment variable
  namespace: "gateway-system"
  
  # Control plane host for gateway management API
  # Can be overridden with GATEWAY_CONTROL_PLANE_HOST environment variable
  controlPlaneHost: "http://platform-api:3001"
  
  # Path to Kubernetes manifest file for gateway deployment (legacy mode)
  # Leave empty when using Helm deployment
  # Can be overridden with GATEWAY_MANIFEST_PATH environment variable
  manifestPath: ""
  
  # Helm deployment configuration
  helm:
    # Enable Helm-based deployment (recommended)
    enabled: true
    
    # Helm chart reference (repository/chart-name)
    chartName: "oci://ghcr.io/your-org/gateway-helm-chart"
    
    # Chart version to deploy
    chartVersion: "0.1.0"
    
    # Path to values.yaml file for Helm chart
    # This file will be used as-is without templating
    # Can be overridden with GATEWAY_HELM_VALUES_FILE_PATH environment variable
    valuesFilePath: "/etc/gateway-operator/values/values.yaml"
    
    # Helm release name prefix
    # Actual release name will be: <prefix>-<gateway-name>
    releaseNamePrefix: "gateway"

# Reconciliation behavior configuration
reconciliation:
  # Enable automatic reconciliation of gateway resources
  # Can be overridden with RECONCILIATION_ENABLED environment variable
  enabled: true
  
  # Interval between reconciliation checks (in seconds)
  # Can be overridden with RECONCILIATION_INTERVAL environment variable
  interval: 300

# Logging configuration
logging:
  # Log level (debug, info, warn, error)
  # Can be overridden with LOG_LEVEL environment variable
  level: "info"
  
  # Log format (json, console)
  # Can be overridden with LOG_FORMAT environment variable
  format: "json"
